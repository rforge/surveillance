<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Plotting Intensities of Infection over Time or Space — twinstim_intensity • surveillance</title>
<script src="../deps/jquery-3.5.1/jquery-3.5.1.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-4.5.3/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-4.5.3/bootstrap.bundle.min.js"></script><script src="../deps/bs3compat-0.2.4/tabs.js"></script><script src="../deps/bs3compat-0.2.4/bs3compat.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><link rel="stylesheet" href="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.css">
<script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<link href="../syntax-highlighting.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Plotting Intensities of Infection over Time or Space — twinstim_intensity">
<meta property="og:description" content='intensityplot method to plot the evolution of the total infection
intensity, its epidemic proportion or its endemic proportion over time
or space (integrated over the other dimension) of fitted
twinstim models (or simEpidataCS).
The "simEpidataCS"-method is just a wrapper around
intensityplot.twinstim by making the "simEpidataCS" object
"twinstim"-compatible, i.e. enriching it by the
required model components and environment.
The intensity.twinstim auxiliary function returns functions which
calculate the endemic or epidemic intensity at a specific time point or
location (integrated over the other dimension).'>
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@bastistician">
<meta name="twitter:site" content="@bastistician">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc" data-headroom>
    

      <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    <a class="navbar-brand mb-0 h1" href="../index.html">surveillance</a>

    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <button type="button" id="version-badge" class="badge badge-default d-none d-lg-block" data-toggle="tooltip" data-placement="bottom" title="" data-original-title="Released version">1.19.1</button>

    <div id="navbar" class="collapse navbar-collapse">
      <ul class="navbar-nav mr-auto ml-3">
<li class="nav-item">
  <a class="nav-link" href="../articles/pkgdown/overview.html">Overview</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/pkgdown/events.html">Events</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../articles/pkgdown/bibliography.html">Bibliography</a>
</li>
      </ul>
<ul class="navbar-nav ml-1"></ul>
</div>
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <div class="col-md-9 contents">
    <img src="" class="pkg-logo" alt=""><div class="page-header pb-2 mt-4 mb-2 border-bottom toc-ignore">
    <h1 class="display-4">Plotting Intensities of Infection over Time or Space</h1>
    
    <div class="d-none name"><code>twinstim_intensity.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code><a href="intensityplot.html">intensityplot</a></code> method to plot the evolution of the total infection
intensity, its epidemic proportion or its endemic proportion over time
or space (integrated over the other dimension) of fitted
<code><a href="twinstim.html">twinstim</a></code> models (or <code><a href="twinstim_simulation.html">simEpidataCS</a></code>).
The <code>"simEpidataCS"</code>-method is just a wrapper around
<code>intensityplot.twinstim</code> by making the <code>"simEpidataCS"</code> object
<code>"twinstim"</code>-compatible, i.e. enriching it by the
required model components and environment.</p>
<p>The <code>intensity.twinstim</code> auxiliary function returns functions which
calculate the endemic or epidemic intensity at a specific time point or
location (integrated over the other dimension).</p>
    </div>

    <pre class="usage"><code class="sourceCode R"><span class="co"># S3 method for twinstim</span>
<span class="fu"><a href="intensityplot.html">intensityplot</a></span><span class="op">(</span><span class="va">x</span>,
    which <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"epidemic proportion"</span>, <span class="st">"endemic proportion"</span>, <span class="st">"total intensity"</span><span class="op">)</span>,
    aggregate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"space"</span><span class="op">)</span>, types <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">qmatrix</span><span class="op">)</span>,
    <span class="va">tiles</span>, tiles.idcol <span class="op">=</span> <span class="cn">NULL</span>, plot <span class="op">=</span> <span class="cn">TRUE</span>, add <span class="op">=</span> <span class="cn">FALSE</span>,
    tgrid <span class="op">=</span> <span class="fl">101</span>, rug.opts <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span>,
    sgrid <span class="op">=</span> <span class="fl">128</span>, polygons.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span>, points.args <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="op">)</span>,
    cex.fun <span class="op">=</span> <span class="va">sqrt</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S3 method for simEpidataCS</span>
<span class="fu"><a href="intensityplot.html">intensityplot</a></span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span>

<span class="fu">intensity.twinstim</span><span class="op">(</span><span class="va">x</span>,
    aggregate <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"time"</span>, <span class="st">"space"</span><span class="op">)</span>, types <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/nrow.html">nrow</a></span><span class="op">(</span><span class="va">x</span><span class="op">$</span><span class="va">qmatrix</span><span class="op">)</span>, 
    <span class="va">tiles</span>, tiles.idcol <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span></code></pre>

    <h2>Arguments</h2>
    <dl class="row" id="ref-arguments">
<dt class="col-sm-3" id="ref-arguments name">x</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>an object of class <code>"twinstim"</code> or <code>"simEpidataCS"</code>, respectively.</p></dd>
    <dt class="col-sm-3" id="ref-arguments name">which</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p><code>"epidemic proportion"</code>, <code>"endemic proportion"</code>,
    or <code>"total intensity"</code>.  Partial matching is applied.  Determines
    whether to plot the path of the total intensity or its 
    epidemic or endemic proportions over time or space (<code>which</code>)
    aggregated over the other dimension and <code>types</code>.</p></dd>
    <dt class="col-sm-3" id="ref-arguments name">aggregate</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>One of <code>"time"</code> or <code>"space"</code>. The former results in a plot
    of the evolution of <code>which</code> as a function of time (integrated
    over the observation region \(\bold{W}\)), whereas the latter
    produces a <code>spplot</code> of <code>which</code> over \(\bold{W}\)
    (spanned by <code>tiles</code>). In both cases, <code>which</code> is evaluated
    on a grid of values, given by <code>tgrid</code> or <code>sgrid</code>, respectively.</p></dd>
    <dt class="col-sm-3" id="ref-arguments name">types</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>event types to aggregate. By default, all types of events are
    aggregated, but one could also be interested in only one specific
    type or a subset of event types.</p></dd>
    <dt class="col-sm-3" id="ref-arguments name">tiles</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>object of class <code>SpatialPolygons</code> representing
    the decomposition of \(\bold{W}\) into different regions (as used
    in the corresponding <code>stgrid</code> of the <code>"<a href="epidataCS.html">epidataCS</a>"</code>.
    This is only needed for <code>aggregate = "space"</code>.</p></dd>
    <dt class="col-sm-3" id="ref-arguments name">tiles.idcol</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>either a column index for <code>tiles@data</code> (if <code>tiles</code> is a
    <code>SpatialPolygonsDataFrame</code>), or <code>NULL</code>
    (default), which refers to the <code>"ID"</code> slot of the polygons,
    i.e., <code><a href="https://rdrr.io/r/base/row.names.html">row.names(tiles)</a></code>.
    The ID's must correspond to the factor levels of
    <code>stgrid$tile</code> of the <code>"<a href="epidataCS.html">epidataCS</a>"</code> on which
    <code>x</code> was fitted.</p></dd>
    <dt class="col-sm-3" id="ref-arguments name">plot</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>logical indicating if a plot is desired, which defaults to <code>TRUE</code>.
    Otherwise, a function will be returned, which takes a vector of time
    points (if <code>aggregate = "time"</code>) or a matrix of coordinates (if
    <code>aggregate = "space"</code>), and returns <code>which</code> on this grid.</p></dd>
    <dt class="col-sm-3" id="ref-arguments name">add</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>logical.  If <code>TRUE</code> and <code>aggregate = "time"</code>, paths are
    added to the current plot, using <code>lines</code>.  This does not work
    for <code>aggregate = "space"</code>.</p></dd>
    <dt class="col-sm-3" id="ref-arguments name">tgrid</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>either a numeric vector of time points when to evaluate
    <code>which</code>, or a scalar representing the desired number of
    evaluation points in the observation interval \([t_0, T]\).
    This argument is unused for <code>aggregate = "space"</code>.</p></dd>
    <dt class="col-sm-3" id="ref-arguments name">rug.opts</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>if a list, its elements are passed as arguments to the function
    <code><a href="https://rdrr.io/r/graphics/rug.html">rug</a></code>, which will mark the time points of the events if
    <code>aggregate = "time"</code> (it is unused in the spatial case);
    otherwise (e.g., <code>NULL</code>), no <code>rug</code> will be produced.
    By default, the <code>rug</code> argument <code>ticksize</code> is set to 0.02
    and <code>quiet</code> is set to <code>TRUE</code>.  Note that the argument
    <code>x</code> of the <code>rug</code> function, which contains the
    locations for the <code>rug</code> is fixed internally and can not be
    modified.</p></dd>
    <dt class="col-sm-3" id="ref-arguments name">sgrid</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>either an object of class <code>"SpatialPixels"</code> (or
    coercible to that class) representing the locations where to
    evaluate <code>which</code>, or a scalar representing the total
    number of points of a grid constructed on the bounding box of
    <code>tiles</code> (using <code><a href="http://maptools.r-forge.r-project.org/reference/GE_SpatialGrid.html">Sobj_SpatialGrid</a></code>
    from package <span class="pkg">maptools</span>).
    <code>sgrid</code> is internally subsetted to contain only
    points inside <code>tiles</code>.
    This argument is unused for <code>aggregate = "time"</code>.</p></dd>
    <dt class="col-sm-3" id="ref-arguments name">polygons.args</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>if a list, its elements are passed as arguments to
    <code>sp.polygons</code>, which will add <code>tiles</code> to the plot
    if <code>aggregate = "space"</code> (it is unused for the temporal plot).
    By default, the fill <code>col</code>our of the tiles is set to
    <code>"darkgrey"</code>.</p></dd>
    <dt class="col-sm-3" id="ref-arguments name">points.args</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>if a list, its elements are passed as arguments to
    <code>sp.points</code>, which will add the event locations to the plot
    if <code>aggregate = "space"</code> (it is unused for the temporal plot).
    By default, the plot symbol is set to <code>pch=1</code>. The sizes
    of the points are determined as the product of the argument <code>cex</code>
    (default: 0.5) of this list and the sizes obtained from
    the function <code>cex.fun</code> which accounts for multiple events at the
    same location.</p></dd>
    <dt class="col-sm-3" id="ref-arguments name">cex.fun</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>function which takes a vector of counts of events
    at each unique location and returns a (vector of) <code>cex</code>
    value(s) for the sizes of the points at the event locations used in
    <code>points.args</code>.
    Defaults to the <code><a href="https://rdrr.io/r/base/MathFun.html">sqrt()</a></code> function, which for the default
    circular <code>pch=1</code> means that the area of each point is
    proportional to the number of events at its location.</p></dd>
    <dt class="col-sm-3" id="ref-arguments name">...</dt>
      <dd class="col-sm-9" id="ref-arguments desc"><p>further arguments passed to <code>plot</code> or <code>lines</code> (if
    <code>aggregate = "time"</code>), or to <code>spplot</code> (if
    <code>aggregate = "space"</code>).<br>
    For <code>intensityplot.simEpidataCS</code>, arguments passed to
    <code>intensityplot.twinstim</code>.</p></dd>
    </dl>
<h2 class="hasAnchor" id="value">
<a class="anchor" href="#value"></a>Value</h2>

    <p>If <code>plot = FALSE</code> or <code>aggregate = "time"</code>,
  a function is returned, which takes a vector of
  time points (if <code>aggregate = "time"</code>) or a matrix of coordinates
  (if <code>aggregate = "space"</code>), and returns <code>which</code> on this grid.
  <code>intensity.twinstim</code> returns a list containing such functions for
  the endemic and epidemic intensity (but these are not vectorized).</p>  
<p>If <code>plot = TRUE</code> and <code>aggregate = "space"</code>, the
  <code><a href="https://rdrr.io/pkg/lattice/man/trellis.object.html">trellis.object</a></code> of the spatial plot is returned.</p>
    <h2 class="hasAnchor" id="author">
<a class="anchor" href="#author"></a>Author</h2>

    <p>Sebastian Meyer</p>
    <h2 class="hasAnchor" id="see-also">
<a class="anchor" href="#see-also"></a>See also</h2>

    <div class="dont-index"><p><code><a href="twinstim_plot.html">plot.twinstim</a></code>, which calls <code>intensityplot.twinstim</code>.</p></div>

    <h2 class="hasAnchor" id="examples">
<a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/utils/data.html">data</a></span><span class="op">(</span><span class="st">"imdepi"</span>, <span class="st">"imdepifit"</span><span class="op">)</span>

<span class="co"># for the intensityplot we need the model environment, which can be</span>
<span class="co"># easily added by the intelligent update method (no need to refit the model)</span>
<span class="va">imdepifit</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/update.html">update</a></span><span class="op">(</span><span class="va">imdepifit</span>, model<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>

<span class="co">## path of the total intensity</span>
<span class="va">opar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="intensityplot.html">intensityplot</a></span><span class="op">(</span><span class="va">imdepifit</span>, which<span class="op">=</span><span class="st">"total intensity"</span>,
              aggregate<span class="op">=</span><span class="st">"time"</span>, tgrid<span class="op">=</span><span class="fl">500</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">imdepi</span>, <span class="st">"time"</span>, breaks<span class="op">=</span><span class="fl">100</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span><span class="va">opar</span><span class="op">)</span>

<span class="co">## time course of the epidemic proportion by event</span>
<span class="fu"><a href="intensityplot.html">intensityplot</a></span><span class="op">(</span><span class="va">imdepifit</span>, which<span class="op">=</span><span class="st">"epidemic proportion"</span>,
              aggregate<span class="op">=</span><span class="st">"time"</span>, tgrid<span class="op">=</span><span class="fl">500</span>, types<span class="op">=</span><span class="fl">1</span><span class="op">)</span>
<span class="fu"><a href="intensityplot.html">intensityplot</a></span><span class="op">(</span><span class="va">imdepifit</span>, which<span class="op">=</span><span class="st">"epidemic proportion"</span>,
              aggregate<span class="op">=</span><span class="st">"time"</span>, tgrid<span class="op">=</span><span class="fl">500</span>, types<span class="op">=</span><span class="fl">2</span>, add<span class="op">=</span><span class="cn">TRUE</span>, col<span class="op">=</span><span class="fl">2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/legend.html">legend</a></span><span class="op">(</span><span class="st">"topright"</span>, legend<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/levels.html">levels</a></span><span class="op">(</span><span class="va">imdepi</span><span class="op">$</span><span class="va">events</span><span class="op">$</span><span class="va">type</span><span class="op">)</span>, lty<span class="op">=</span><span class="fl">1</span>, col<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>,
       title <span class="op">=</span> <span class="st">"event type"</span><span class="op">)</span>

<span class="co">## endemic and total intensity in one plot</span>
<span class="va">intensity_endprop</span> <span class="op">&lt;-</span> <span class="fu"><a href="intensityplot.html">intensityplot</a></span><span class="op">(</span><span class="va">imdepifit</span>, which<span class="op">=</span><span class="st">"endemic proportion"</span>,
                                   aggregate<span class="op">=</span><span class="st">"time"</span>, plot<span class="op">=</span><span class="cn">FALSE</span><span class="op">)</span>
<span class="va">intensity_total</span> <span class="op">&lt;-</span> <span class="fu"><a href="intensityplot.html">intensityplot</a></span><span class="op">(</span><span class="va">imdepifit</span>, which<span class="op">=</span><span class="st">"total intensity"</span>,
                                 aggregate<span class="op">=</span><span class="st">"time"</span>, tgrid<span class="op">=</span><span class="fl">501</span>, lwd<span class="op">=</span><span class="fl">2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/curve.html">curve</a></span><span class="op">(</span><span class="fu">intensity_endprop</span><span class="op">(</span><span class="va">x</span><span class="op">)</span> <span class="op">*</span> <span class="fu">intensity_total</span><span class="op">(</span><span class="va">x</span><span class="op">)</span>, add<span class="op">=</span><span class="cn">TRUE</span>, col<span class="op">=</span><span class="fl">2</span>, lwd<span class="op">=</span><span class="fl">2</span>, n<span class="op">=</span><span class="fl">501</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/text.html">text</a></span><span class="op">(</span><span class="fl">2500</span>, <span class="fl">0.36</span>, labels<span class="op">=</span><span class="st">"total"</span>, col<span class="op">=</span><span class="fl">1</span>, pos<span class="op">=</span><span class="fl">2</span>, font<span class="op">=</span><span class="fl">2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/text.html">text</a></span><span class="op">(</span><span class="fl">2500</span>, <span class="fl">0.08</span>, labels<span class="op">=</span><span class="st">"endemic"</span>, col<span class="op">=</span><span class="fl">2</span>, pos<span class="op">=</span><span class="fl">2</span>, font<span class="op">=</span><span class="fl">2</span><span class="op">)</span>


<span class="co">## spatial shape of the intensity (aggregated over time)</span>
<span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="surveillance.options.html">surveillance.options</a></span><span class="op">(</span><span class="st">"allExamples"</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="fu"><a href="https://rdrr.io/r/base/ns-load.html">requireNamespace</a></span><span class="op">(</span><span class="st">"maptools"</span><span class="op">)</span><span class="op">)</span>
<span class="op">{</span>
  <span class="co">## load borders of Germany's districts</span>
  <span class="fu"><a href="https://rdrr.io/r/base/load.html">load</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"shapes"</span>, <span class="st">"districtsD.RData"</span>, package<span class="op">=</span><span class="st">"surveillance"</span><span class="op">)</span><span class="op">)</span>

  <span class="co"># total intensity (using a rather sparse 'sgrid' for speed)</span>
  <span class="fu"><a href="intensityplot.html">intensityplot</a></span><span class="op">(</span><span class="va">imdepifit</span>, which<span class="op">=</span><span class="st">"total intensity"</span>,
                aggregate<span class="op">=</span><span class="st">"space"</span>, tiles<span class="op">=</span><span class="va">districtsD</span>, sgrid<span class="op">=</span><span class="fl">500</span><span class="op">)</span>

  <span class="co"># epidemic proportion by type</span>
  <span class="va">maps_epiprop</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="kw">function</span> <span class="op">(</span><span class="va">type</span><span class="op">)</span> <span class="op">{</span>
      <span class="fu"><a href="intensityplot.html">intensityplot</a></span><span class="op">(</span><span class="va">imdepifit</span>, which<span class="op">=</span><span class="st">"epidemic"</span>, aggregate<span class="op">=</span><span class="st">"space"</span>,
                    types<span class="op">=</span><span class="va">type</span>, tiles<span class="op">=</span><span class="va">districtsD</span>, sgrid<span class="op">=</span><span class="fl">1000</span>,
                    at<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span><span class="fl">0</span>,<span class="fl">1</span>,by<span class="op">=</span><span class="fl">0.1</span><span class="op">)</span>, col.regions<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/rev.html">rev</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/grDevices/palettes.html">heat.colors</a></span><span class="op">(</span><span class="fl">20</span><span class="op">)</span><span class="op">)</span><span class="op">)</span>
  <span class="op">}</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">maps_epiprop</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span>, split<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span>, more<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span>
  <span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">maps_epiprop</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>, split<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">1</span>,<span class="fl">2</span>,<span class="fl">1</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span>
</code></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="sticky-top">
    <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>

    </nav>
</div>
  </div>
</div>


      <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Maintained by <a href="http://www.imbe.med.uni-erlangen.de/cms/sebastian_meyer.html" class="external-link">Sebastian Meyer</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 1.6.1.9001. Hosted on <a href="https://R-forge.R-project.org/projects/surveillance/" class="external-link"><img src="https://r-forge.r-project.org/themes/rforge/imagesrf/logo.png" height="18" alt="R-Forge"></a></p>
</div>

      </footer>
</div>

  


  

  </body>
</html>

